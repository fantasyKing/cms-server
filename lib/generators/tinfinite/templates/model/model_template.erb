class <%= class_name %>
  include Mongoid::Document
  include Mongoid::Attributes::Dynamic
  include Mongoid::Timestamps
  store_in Phoncol::<%= class_name %>.store

  # field :app_id, type: String

  def self.valid_attrs
    res = AppAppInfo.fields
    tableHash = Hash.new;
    res.each {|key, value| tableHash[key.to_sym] = value.options[:type].to_s }
    firstIns = self.first
    if !firstIns.nil?
      firstIns.fields.each { |key, value| tableHash[key.to_sym] = value.options[:type].to_s }
    end
    # logger.tagged("valid_attrs") { logger.debug tableHash}
    filterArray = ['updated_at', 'created_at', '_id']
    return tableHash.delete_if { |key, val| filterArray.include?(key.to_s)}
  end
end
